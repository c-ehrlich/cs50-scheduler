{% extends "layout.html" %}

{% block title %}
    Created events
{% endblock %}

{% block main %}
    <h3>Upcoming</h3>
    {% if not events|length %}
        <p>No upcoming events</p>
    {% endif %}
    {% for event in events %}
        <div class="event-main">
            <p>{{ event.hash }}</p> 
            <h2>{{ event.eventname }}</h2>
            <p>{{ event.date }}</p>
            <p>{{ event.description }}</p>
            <p>{{ event.slots_full }} / {{ event.slots_total }} slots filled</p>
            <p>Full Duration {{ event.time_event_start }} - {{ event.time_event_end }}</p>
            <form action="/view/{{ event.hash }}" method="get">
                <input type=submit value="View">
            </form>
            <form>
                <button type="button" data-toggle="modal" data-target="#confirm_delete_{{ event.id }}">
                    Delete
                </button>
            </form>
            <!-- Modal -->
            <div class="modal fade"  id="confirm_delete_{{ event.id }}"tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Delete event</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete the event "{{ event.eventname }}" on {{ event.date }}?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <form action="/delete_from_created/{{ event.id }}" method="post">
                                <button type="submit" class="btn btn-primary">Delete {{ event.id }}</button>
                            </form>
                            
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    {% endfor %}
    <h3>Past</h3>
    {% if not pastmeet|length %}
        <p>No past events</p>
    {% endif %}
    {% for event in pastmeet %}
        <div class="event-main">
            <p>{{ event.hash }}</p> 
            <h2>{{ event.eventname }}</h2>
            <p>{{ event.date }}</p>
            <p>{{ event.description }}</p>
            <p>{{ event.slots_full }} / {{ event.slots_total }} slots filled</p>
            <p>Full Duration {{ event.time_event_start }} - {{ event.time_event_end }}</p>
            <form action="/view/{{ event.hash }}" method="get">
                <input type=submit value="View">
            </form>
            <form>
                <button type="button" data-toggle="modal" data-target="#confirm_delete_{{ event.id }}">
                    Delete
                </button>
            </form>
            <!-- Modal -->
            <div class="modal fade"  id="confirm_delete_{{ event.id }}"tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Delete event</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            Are you sure you want to delete the event "{{ event.eventname }}" on {{ event.date }}?
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <form action="/delete_from_created/{{ event.id }}" method="post">
                                <button type="submit" class="btn btn-primary">Delete {{ event.id }}</button>
                            </form>
                            
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    {% endfor %}
{% endblock %}

<!-- <form action="/delete_from_created/{{ event.id }}" method="post">
    <input type="submit" class="btn btn-primary" value="delete">
</form> -->